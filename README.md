# dndbeyond html to markdown file converter

## Description

This Python script converts HTML files generated by saving dndbeyond webpages into Markdown format for use in tools like Obsidian or other markdown readers. Simply save your html file(s) in the `input` folder, run the script, and they will be converted to markdown and saved in the `output` folder. 

I wrote this script to save myself time when copying content into Obsidian for use when prepping games for my DND group. It should only be used for personal use. 

## Features

* **HTML Cleaning:** Removes specified HTML elements (e.g., headers, footers, navigation bars) to retain only the core content.
* **Batch Conversion:** Converts multiple HTML files to Markdown in a single run.
* **Output Directory:** Saves the converted Markdown files to a separate directory.
* **Error Handling:** Ignores encoding errors during file reading.
* **Unicode Handling:** Replaces specific unicode characters for better markdown compatibility.

## Dependencies

* [Beautiful Soup 4](https://pypi.org/project/beautifulsoup4/) (bs4): For parsing and manipulating HTML.
* [html2text](https://pypi.org/project/html2text/): For converting HTML to Markdown.

## Installation

1.  **Clone the repository:**

    ```bash
    git clone https://github.com/hammezii/dndb-html-to-markdown.git
    cd dndb-html-to-markdown
    ```

2.  **Install the dependencies:**

    ```bash
    pip install -r requirements.txt
    ```

    Alternatively, you can use `pyproject.toml` if you have `Poetry` or `uv` installed.

## Usage

1.  **Prepare Input:**
    * Place the HTML files you want to convert in the `input` directory.  If this directory doesn't exist, create it.

2.  **Run the script:**

    ```bash
    python dndb_html_to_md.py
    ```

3.  **Locate Output:**
    * The converted Markdown files will be saved in the `output` directory. If this directory doesn't exist, the script will create it.

## Configuration

* **Input and Output Directories:**
    * The script uses `input` as the default directory for HTML files and `output` for the converted Markdown files. You can change these directories by modifying the `input_dir` and `output_dir` variables in the script:

        ```python
        input_dir = "input"  # Change this if needed
        output_dir = "output" # Change this if needed
        ```

* **Elements to Remove:**
    * The `elements_to_remove` list contains CSS selectors of the HTML elements that will be removed from the HTML files before conversion.  You can customize this list to remove specific elements according to your needs:

        ```python
        elements_to_remove = [
            '.ddb-site-banner',
            '.b-noscript',
            '.ddb-footer',
            '.site-bar__container',
            '.page-header',
            '.p-article-byline',
            '#mega-menu-target',
            '#skip-to-content-link',
            'header',
            'footer'
        ]
        ```

* **HTML2Text Options:**
    * The script uses the `html2text` library for the conversion.  The `HTML2Text` object is initialized with specific options:
        * `ignore_images = True`:  Ignores image tags during conversion.
        * `ignore_links = True`:  Ignores anchor tags during conversion.
        * `body_width = 0`:  Prevents wrapping of long lines.
        * You can modify these and other options as needed by referring to the `html2text` documentation.


## Requirements

* Python 3.x
* See `requirements.txt` or `pyproject.toml` for Python dependencies.

